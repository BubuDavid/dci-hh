{"ast":null,"code":"var _jsxFileName = \"/home/bubu/dev/dci-projects/hacedor_de_horarios_frontend/src/Components/Context/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useFetchAirtableData } from \"./customHooks\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HHContext = /*#__PURE__*/React.createContext();\nconst AIRTABLE_API_KEY = process.env.REACT_APP_AIRTABLE_API_KEY;\nconst AIRTABLE_TABLE_URL = process.env.REACT_APP_AIRTABLE_TABLE_URL;\nconst requestParams = {\n  url: AIRTABLE_TABLE_URL,\n  headers: {\n    'Authorization': `Bearer ${AIRTABLE_API_KEY}`,\n    'Content-Type': 'application/json',\n    'Accept': 'application/json'\n  },\n  method: 'GET'\n};\n\nfunction HHProvider(props) {\n  _s();\n\n  const {\n    data: subjects,\n    setData: setSubjects,\n    fetchError,\n    fetchLoading\n  } = useFetchAirtableData([], requestParams);\n  const [openModal, setOpenModal] = useState(false);\n  const [schedules, setSchedules] = useState([]);\n  const [subjectName, setSubjectName] = useState(\"\");\n  const [overflowSubjects, setOverflowSubjects] = useState(false);\n\n  const toggleSelectSubject = id => {\n    const indexSubject = subjects.findIndex(subject => subject._ID === id);\n    const newSubjects = [...subjects];\n\n    if (yourSubjects.length === 10 && !newSubjects[indexSubject].selected) {\n      return false;\n    }\n\n    newSubjects[indexSubject].selected = !newSubjects[indexSubject].selected;\n    setSubjects(newSubjects);\n    return true;\n  };\n\n  const yourSubjects = subjects.filter(subject => subject.selected);\n\n  const superNormalize = s => {\n    return s.normalize('NFC').toUpperCase();\n  };\n\n  const toggleView = viewClassName => {\n    const rightSection = document.getElementById('RightSection');\n    const leftSection = document.getElementById('LeftSection');\n\n    if (viewClassName === 'L') {\n      leftSection.classList.add('active');\n      rightSection.classList.remove('active');\n    }\n\n    if (viewClassName === 'R') {\n      leftSection.classList.remove('active');\n      rightSection.classList.add('active');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(HHContext.Provider, {\n    value: {\n      fetchError,\n      fetchLoading,\n      subjects,\n      subjectName,\n      setSubjectName,\n      toggleSelectSubject,\n      yourSubjects,\n      openModal,\n      setOpenModal,\n      schedules,\n      setSchedules,\n      superNormalize,\n      overflowSubjects,\n      setOverflowSubjects,\n      toggleView\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 3\n  }, this);\n}\n\n_s(HHProvider, \"cdVv3yyVnjPvP0jNtBPtfQpMG4Y=\", false, function () {\n  return [useFetchAirtableData];\n});\n\n_c = HHProvider;\nexport default HHContext;\nexport { HHProvider };\n\nvar _c;\n\n$RefreshReg$(_c, \"HHProvider\");","map":{"version":3,"names":["React","useState","useFetchAirtableData","HHContext","createContext","AIRTABLE_API_KEY","process","env","REACT_APP_AIRTABLE_API_KEY","AIRTABLE_TABLE_URL","REACT_APP_AIRTABLE_TABLE_URL","requestParams","url","headers","method","HHProvider","props","data","subjects","setData","setSubjects","fetchError","fetchLoading","openModal","setOpenModal","schedules","setSchedules","subjectName","setSubjectName","overflowSubjects","setOverflowSubjects","toggleSelectSubject","id","indexSubject","findIndex","subject","_ID","newSubjects","yourSubjects","length","selected","filter","superNormalize","s","normalize","toUpperCase","toggleView","viewClassName","rightSection","document","getElementById","leftSection","classList","add","remove","children"],"sources":["/home/bubu/dev/dci-projects/hacedor_de_horarios_frontend/src/Components/Context/index.js"],"sourcesContent":["import React, { useState } from \"react\"\nimport { useFetchAirtableData } from \"./customHooks\"\n\nconst HHContext = React.createContext()\n\nconst AIRTABLE_API_KEY = process.env.REACT_APP_AIRTABLE_API_KEY\nconst AIRTABLE_TABLE_URL = process.env.REACT_APP_AIRTABLE_TABLE_URL\n\n\nconst requestParams = {\n\turl: AIRTABLE_TABLE_URL,\n\theaders: {\n\t\t'Authorization': `Bearer ${AIRTABLE_API_KEY}`,\n\t\t'Content-Type': 'application/json',\n\t\t'Accept': 'application/json',\n\t},\n\tmethod: 'GET'\n}\n\nfunction HHProvider(props) {\n\tconst {\n\t\tdata: subjects,\n\t\tsetData: setSubjects,\n\t\tfetchError,\n\t\tfetchLoading,\n\t} = useFetchAirtableData([], requestParams)\n\tconst [openModal, setOpenModal] = useState(false)\n\tconst [schedules, setSchedules] = useState([])\n\tconst [subjectName, setSubjectName] = useState(\"\")\n\tconst [overflowSubjects, setOverflowSubjects] = useState(false)\n\t\n\tconst toggleSelectSubject = (id) => {\n\t\tconst indexSubject = subjects.findIndex(subject => subject._ID === id)\n\t\tconst newSubjects = [...subjects]\n\t\tif (yourSubjects.length === 10 && !newSubjects[indexSubject].selected) {\n\t\t\treturn false\n\t\t}\n\t\tnewSubjects[indexSubject].selected = !newSubjects[indexSubject].selected\n\t\tsetSubjects(newSubjects)\n\n\t\treturn true\n\t}\n\tconst yourSubjects = subjects.filter(subject => subject.selected)\n\n\tconst superNormalize = (s) => {\n\t\treturn s.normalize('NFC').toUpperCase()\n\t}\n\n\tconst toggleView = (viewClassName) => {\n\t\tconst rightSection = document.getElementById('RightSection')\n\t\tconst leftSection = document.getElementById('LeftSection')\n\t\tif (viewClassName === 'L') {\n\t\t\tleftSection.classList.add('active')\n\t\t\trightSection.classList.remove('active')\n\t\t}\n\t\tif (viewClassName === 'R') {\n\t\t\tleftSection.classList.remove('active')\n\t\t\trightSection.classList.add('active')\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<HHContext.Provider value={{\n\t\t\tfetchError,\n\t\t\tfetchLoading,\n\t\t\tsubjects,\n\t\t\tsubjectName,\n\t\t\tsetSubjectName,\n\t\t\ttoggleSelectSubject,\n\t\t\tyourSubjects,\n\t\t\topenModal,\n\t\t\tsetOpenModal,\n\t\t\tschedules,\n\t\t\tsetSchedules,\n\t\t\tsuperNormalize,\n\t\t\toverflowSubjects,\n\t\t\tsetOverflowSubjects,\n\t\t\ttoggleView\n\t\t}}>\n\t\t\t{ props.children }\n\t\t</HHContext.Provider>\n\t)\n}\n\nexport default HHContext\nexport { HHProvider };"],"mappings":"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"},"metadata":{},"sourceType":"module"}