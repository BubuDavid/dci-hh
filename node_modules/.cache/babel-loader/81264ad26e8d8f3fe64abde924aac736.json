{"ast":null,"code":"var _jsxFileName = \"/home/bubu/dev/dci-projects/hacedor_de_horarios_frontend/src/Components/Contexts/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useFetchAirtableData } from \"./customHooks\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HHContext = /*#__PURE__*/React.createContext();\nconst AIRTABLE_API_KEY = process.env.REACT_APP_AIRTABLE_API_KEY;\nconst AIRTABLE_TABLE_URL = process.env.REACT_APP_AIRTABLE_TABLE_URL;\nconst requestParams = {\n  url: AIRTABLE_TABLE_URL,\n  headers: {\n    'Authorization': `Bearer ${AIRTABLE_API_KEY}`,\n    'Content-Type': 'application/json',\n    'Accept': 'application/json'\n  },\n  method: 'GET'\n};\n\nfunction HHProvider(props) {\n  _s();\n\n  const {\n    data: subjects,\n    setData: setSubjects,\n    fetchError,\n    fetchLoading\n  } = useFetchAirtableData([], requestParams);\n  const [openModal, setOpenModal] = useState(false);\n  const [schedules, setSchedules] = useState([]);\n  const [visibleSubjects, setVisibleSubjects] = useState(subjects);\n\n  const toggleSelectSubject = id => {\n    const indexSubject = subjects.findIndex(subject => subject._ID === id);\n    const newSubjects = [...subjects];\n    newSubjects[indexSubject].selected = !newSubjects[indexSubject].selected;\n    setSubjects(newSubjects);\n  }; // // tests\n  // subjects.forEach(subject => {\n  // \tif (subject.NAME === \"ANALISIS VECTORIAL\") {\n  // \t\tsubject.selected = true;\n  // \t}\n  // \tif (subject.NAME === \"DEBATES ETICOS CONTEMPORANEOS Y DERECHOS HUMANOS\") {\n  // \t\tsubject.selected = true;\n  // \t}\n  // \tif (subject.NAME === \"ELECTROMAGNETISMO\") {\n  // \t\tsubject.selected = true;\n  // \t}\n  // \tif (subject.NAME === \"FISICA CUANTICA\") {\n  // \t\tsubject.selected = true;\n  // \t}\n  // });\n\n\n  const yourSubjects = subjects.filter(subject => subject.selected);\n  return /*#__PURE__*/_jsxDEV(HHContext.Provider, {\n    value: {\n      fetchError,\n      fetchLoading,\n      subjects,\n      visibleSubjects,\n      toggleSelectSubject,\n      yourSubjects,\n      openModal,\n      setOpenModal,\n      schedules,\n      setSchedules\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 3\n  }, this);\n}\n\n_s(HHProvider, \"28H8XkMUa0jwFN18ylekc5W0jCw=\", false, function () {\n  return [useFetchAirtableData];\n});\n\n_c = HHProvider;\nexport default HHContext;\nexport { HHProvider };\n\nvar _c;\n\n$RefreshReg$(_c, \"HHProvider\");","map":{"version":3,"names":["React","useState","useFetchAirtableData","HHContext","createContext","AIRTABLE_API_KEY","process","env","REACT_APP_AIRTABLE_API_KEY","AIRTABLE_TABLE_URL","REACT_APP_AIRTABLE_TABLE_URL","requestParams","url","headers","method","HHProvider","props","data","subjects","setData","setSubjects","fetchError","fetchLoading","openModal","setOpenModal","schedules","setSchedules","visibleSubjects","setVisibleSubjects","toggleSelectSubject","id","indexSubject","findIndex","subject","_ID","newSubjects","selected","yourSubjects","filter","children"],"sources":["/home/bubu/dev/dci-projects/hacedor_de_horarios_frontend/src/Components/Contexts/index.js"],"sourcesContent":["import React, { useState } from \"react\"\nimport { useFetchAirtableData } from \"./customHooks\"\n\nconst HHContext = React.createContext()\n\nconst AIRTABLE_API_KEY = process.env.REACT_APP_AIRTABLE_API_KEY\nconst AIRTABLE_TABLE_URL = process.env.REACT_APP_AIRTABLE_TABLE_URL\n\n\nconst requestParams = {\n\turl: AIRTABLE_TABLE_URL,\n\theaders: {\n\t\t'Authorization': `Bearer ${AIRTABLE_API_KEY}`,\n\t\t'Content-Type': 'application/json',\n\t\t'Accept': 'application/json',\n\t},\n\tmethod: 'GET'\n}\n\nfunction HHProvider(props) {\n\tconst {\n\t\tdata: subjects,\n\t\tsetData: setSubjects,\n\t\tfetchError,\n\t\tfetchLoading,\n\t} = useFetchAirtableData([], requestParams)\n\tconst [openModal, setOpenModal] = useState(false)\n\tconst [schedules, setSchedules] = useState([])\n\tconst [visibleSubjects, setVisibleSubjects] = useState(subjects)\n\n\tconst toggleSelectSubject = (id) => {\n\t\tconst indexSubject = subjects.findIndex(subject => subject._ID === id)\n\t\tconst newSubjects = [...subjects]\n\t\tnewSubjects[indexSubject].selected = !newSubjects[indexSubject].selected\n\t\tsetSubjects(newSubjects)\n\t}\n\n\t// // tests\n\t// subjects.forEach(subject => {\n\t// \tif (subject.NAME === \"ANALISIS VECTORIAL\") {\n\t// \t\tsubject.selected = true;\n\t// \t}\n\t// \tif (subject.NAME === \"DEBATES ETICOS CONTEMPORANEOS Y DERECHOS HUMANOS\") {\n\t// \t\tsubject.selected = true;\n\t// \t}\n\t// \tif (subject.NAME === \"ELECTROMAGNETISMO\") {\n\t// \t\tsubject.selected = true;\n\t// \t}\n\t// \tif (subject.NAME === \"FISICA CUANTICA\") {\n\t// \t\tsubject.selected = true;\n\t// \t}\n\t// });\n\tconst yourSubjects = subjects.filter(subject => subject.selected)\n\n\treturn (\n\t\t<HHContext.Provider value={{\n\t\t\tfetchError,\n\t\t\tfetchLoading,\n\t\t\tsubjects,\n\t\t\tvisibleSubjects,\n\t\t\ttoggleSelectSubject,\n\t\t\tyourSubjects,\n\t\t\topenModal,\n\t\t\tsetOpenModal,\n\t\t\tschedules,\n\t\t\tsetSchedules\n\t\t}}>\n\t\t\t{ props.children }\n\t\t</HHContext.Provider>\n\t)\n}\n\nexport default HHContext\nexport { HHProvider };"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,oBAAT,QAAqC,eAArC;;AAEA,MAAMC,SAAS,gBAAGH,KAAK,CAACI,aAAN,EAAlB;AAEA,MAAMC,gBAAgB,GAAGC,OAAO,CAACC,GAAR,CAAYC,0BAArC;AACA,MAAMC,kBAAkB,GAAGH,OAAO,CAACC,GAAR,CAAYG,4BAAvC;AAGA,MAAMC,aAAa,GAAG;EACrBC,GAAG,EAAEH,kBADgB;EAErBI,OAAO,EAAE;IACR,iBAAkB,UAASR,gBAAiB,EADpC;IAER,gBAAgB,kBAFR;IAGR,UAAU;EAHF,CAFY;EAOrBS,MAAM,EAAE;AAPa,CAAtB;;AAUA,SAASC,UAAT,CAAoBC,KAApB,EAA2B;EAAA;;EAC1B,MAAM;IACLC,IAAI,EAAEC,QADD;IAELC,OAAO,EAAEC,WAFJ;IAGLC,UAHK;IAILC;EAJK,IAKFpB,oBAAoB,CAAC,EAAD,EAAKS,aAAL,CALxB;EAMA,MAAM,CAACY,SAAD,EAAYC,YAAZ,IAA4BvB,QAAQ,CAAC,KAAD,CAA1C;EACA,MAAM,CAACwB,SAAD,EAAYC,YAAZ,IAA4BzB,QAAQ,CAAC,EAAD,CAA1C;EACA,MAAM,CAAC0B,eAAD,EAAkBC,kBAAlB,IAAwC3B,QAAQ,CAACiB,QAAD,CAAtD;;EAEA,MAAMW,mBAAmB,GAAIC,EAAD,IAAQ;IACnC,MAAMC,YAAY,GAAGb,QAAQ,CAACc,SAAT,CAAmBC,OAAO,IAAIA,OAAO,CAACC,GAAR,KAAgBJ,EAA9C,CAArB;IACA,MAAMK,WAAW,GAAG,CAAC,GAAGjB,QAAJ,CAApB;IACAiB,WAAW,CAACJ,YAAD,CAAX,CAA0BK,QAA1B,GAAqC,CAACD,WAAW,CAACJ,YAAD,CAAX,CAA0BK,QAAhE;IACAhB,WAAW,CAACe,WAAD,CAAX;EACA,CALD,CAX0B,CAkB1B;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;;EACA,MAAME,YAAY,GAAGnB,QAAQ,CAACoB,MAAT,CAAgBL,OAAO,IAAIA,OAAO,CAACG,QAAnC,CAArB;EAEA,oBACC,QAAC,SAAD,CAAW,QAAX;IAAoB,KAAK,EAAE;MAC1Bf,UAD0B;MAE1BC,YAF0B;MAG1BJ,QAH0B;MAI1BS,eAJ0B;MAK1BE,mBAL0B;MAM1BQ,YAN0B;MAO1Bd,SAP0B;MAQ1BC,YAR0B;MAS1BC,SAT0B;MAU1BC;IAV0B,CAA3B;IAAA,UAYGV,KAAK,CAACuB;EAZT;IAAA;IAAA;IAAA;EAAA,QADD;AAgBA;;GAnDQxB,U;UAMJb,oB;;;KANIa,U;AAqDT,eAAeZ,SAAf;AACA,SAASY,UAAT"},"metadata":{},"sourceType":"module"}